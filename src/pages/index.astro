---
import Common from "./common.astro";
import Ruleta from "./ruleta.astro";

const COOKIES_ID = "algorhythmics.ruleta";

function createIfNotExists() {
    if (!Astro.cookies.has(COOKIES_ID)) {
        create();
        return true;
    }
    return false;
}

function create() {
    Astro.cookies.set(COOKIES_ID, JSON.stringify([]), { path: '/'});
}

function parse() {
    return JSON.parse(Astro.cookies.get(COOKIES_ID).value);
}

const created = createIfNotExists();
const data = parse();
if (created) data.push(150);

---

<Common text="Fes una aposta per jugar." >
    <Ruleta />

</Common>